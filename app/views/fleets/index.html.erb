<% content_for :title do %>
  Fleet Database
<% end %>

<% content_for :nav_left do %>
  <%= render 'nav/filters' %>
<% end %>

<section class='main-content-header'>
  <h1>
    <button class="btn hide" id="btn-expand-sidebar"><i class="fa fa-filter"></i>Add Filter</button>
    <%= content_for :title %>
  </h1>
</section>

<section class='main-content'>
  <div class='filter-container'></div>

  <div class='results-containter'>
    <div class='table-responsive fleet-table'>
      <table class='table table-hover'>
        <thead>
          <tr>
            <% @prezi.columns_selected.each do |column| %>
              <th class="column-header" data-type="<%= column %>" data-sorted="false">
                <button class="hide btn-edit-column" type="button" data-toggle="dropdown" data-submenu="" aria-expanded="true">
                  <i class="fa fa-cog"></i>
                </button>
                <ul class="dropdown-menu">
                  <li><a tabindex="0" class="btn-move-left"><i class="fa fa-long-arrow-left"></i>Move left</a></li>
                  <li class="divider"></li>
                  <li><a tabindex="0" class="btn-move-right"><i class="fa fa-long-arrow-right"></i>Move right</a></a></li>
                </ul>
                <span class="column-name"><%= column.titleize %><i class="fa fa-caret-down"></i></span>
              </th>
            <% end %>

            <th class="btn-datatable-settings">
              <button type="button" data-toggle="modal" data-target="#datatable_settings_container"><span>+</span></button>
            </th>

            <th class="btn-table-settings">
              <button type="button" data-toggle="dropdown" data-submenu="" aria-expanded="true">
                <i class="fa fa-cog fa-2x"></i>
              </button>
              <ul class="dropdown-menu dropdown-menu-right">
                <li><a tabindex="0" id="btn-export-csv"><i class="fa fa-long-arrow-down"></i>Download CSV</a></li>
                <li class="divider"></li>
                <li class="dropdown-submenu">
                  <a tabindex="0"><i class="fa fa-bars"></i>Show results</a>
                  <ul class="dropdown-menu" id="select-display-count">
                    <li><a tabindex="0">15</a></li>
                    <li class="divider"></li>
                    <li><a tabindex="0" selected="selected">25</a></li>
                    <li class="divider"></li>
                    <li><a tabindex="0">50</a></li>
                    <li class="divider"></li>
                    <li><a tabindex="0">All</a></li>
                  </ul>
                </li>
                <li class="divider"></li>
                <li><a tabindex="0" id="btn-edit-mode"><i class="fa fa-pencil-square-o"></i>Edit mode</a></a></li>
              </ul>
            </th>
          </tr>
        </thead>
        <tbody>
          <% @prezi.fleets.each do |fleet| %>
            <tr class='fleet-line'>
              <% @prezi.columns_selected.each do |column| %>
                <td name='<%= column %>' value='<%= fleet[column] %>'><%= fleet[column] %></td>
              <% end %>
              <td></td>
              <td></td>
            </tr>
          <% end %>
        </tbody>
        <%= render partial: 'fleets/partials/fleet_template' %>
      </table>
    </div>
  </div>
</section>

<%= render partial: 'fleets/partials/datatable_settings' %>
